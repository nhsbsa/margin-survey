<!-- Use this page as the index for your project -->

<!-- ADDING CUSTOM CSS - Add your custom CSS or Sass in /app/assets/sass/main.scss -->

<!-- Extends the layout from /views/layout.html -->
{% extends 'layout-v5c.html' %}
<!-- 
  In /views/layout.html you can:
    - change the header and footer 
    - add custom CSS and JavaScript
-->

<!-- Set the page title -->
{% block pageTitle %}
Drug Purchase Price Database (Margin Survey)
{% endblock %}

<!-- For adding a breadcrumb -->
<!-- Code examples can be found at https://service-manual.nhs.uk/design-system/components/breadcrumbs -->
{% block beforeContent %}
<nav class="nhsuk-breadcrumb" aria-label="Breadcrumb">
  <ol class="nhsuk-breadcrumb__list">

    <li class="nhsuk-breadcrumb__item"><a class="nhsuk-breadcrumb__link" href="continue-2">Go back to supplier list</a></li>

  </ol>
  <p class="nhsuk-breadcrumb__back">
    <a class="nhsuk-breadcrumb__backlink" href="#">
      <span class="nhsuk-u-visually-hidden">Back to &nbsp;</span>
      Home
    </a>
  </p>
</nav>
{% endblock %}

<!-- For adding a back link -->
<!-- Code examples can be found at https://service-manual.nhs.uk/design-system/components/back-link -->
{% block outerContent %}
{% endblock %}

<!-- For adding page content -->
<!-- Page layout code can be found at https://service-manual.nhs.uk/design-system/styles/layout -->
{% block content %}


  

  <!--div class="nhsuk-panel">
    <h1 class="nhsuk-panel__title">
      Application complete
    </h1>
  
    <div class="nhsuk-panel__body">
      We have sent you a confirmation email
    </div>
  
  </div-->


  <div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-full">
      
      <!-- Change the page title here -->
      <span class="nhsuk-caption-xl">January 2025 - Margin Survey check</span>
      <h1 class="nhsuk-heading-xl">Check drug details from Altera Digital Health</h1>


<br>
      
      <form id="myForm">


<!--p>Check these drug details. If any details are incorrect, amend the drug details and select Update information.
<br>
If all the details are correct select View next drug.</p-->


<div class="nhsuk-form-group" >
  <div>
    <label class="nhsuk-label" for="Invoice ID">
      Invoice and drug reference number
    </label>
    
    <input class="nhsuk-input nhsuk-input--width-10" id="Invoice ID" name="Invoice ID" type="text" style="width: 300px;" value="Supplierinvoice.143">
 
    <div class="nhsuk-checkboxes__item" style="display: flex; align-items: center; gap: 0.5rem; margin-top: 30px;">
    <input class="nhsuk-checkboxes__input" id="PI" name="PI" type="checkbox" value="PI" checked>
    <label class="nhsuk-label nhsuk-checkboxes__label" for="PI">
      Is this drug a PI?
    </label>
  </div>
</div>

</div>

<div class="nhsuk-form-group">
  <label class="nhsuk-label" for="Conces/Cat C">
    Conces/Cat C
  </label>
  <select class="nhsuk-select" id="Conces/Cat C" name="Conces/Cat C" >
    <option value="1" selected>Cat C</option>
    <option value="2">Conces</option>
  </select>
</div>

<!--<div class="nhsuk-form-group" style="display: flex; align-items: center; gap: 1rem;">
  <div>
    <label class="nhsuk-label" for="Invoice ID">
      Invoice ID
    </label>
    <input class="nhsuk-input nhsuk-input--width-10" id="Invoice ID" name="Invoice ID" type="text" style="width: 300px;" value="123.143">
  </div>

  <div class="nhsuk-checkboxes__item" style="display: flex; align-items: center; gap: 0.5rem; margin-top: 32px;">
    <input class="nhsuk-checkboxes__input" id="PI" name="PI" type="checkbox" value="PI" checked>
    <label class="nhsuk-label nhsuk-checkboxes__label" for="PI">
      Is this drug a PI?
    </label>
  </div>
</div> -->


    <div class="nhsuk-form-group">
                  <label class="nhsuk-label" for="autocomplete-input">
                    Drug name
                  </label>
                  <input class="nhsuk-input nhsuk-u-width-full" id="autocomplete-input" name="Drug" type="text" autocomplete="off" list="Drug" placeholder="Enter a drug name" value="Oxybutynin 5mg modified-release tablets">
                  <ul class="nhsuk-list" id="suggestions-list" hidden></ul>
                </div>
                <datalist id="Drug">
                  <option value="Amlodipine 5 mg tablet"></option>
                  <option value="Amoxicillin 500 mg tablet"></option>
                  <option value="Atorvastatin 20 mg tablet"></option>
                  <option value="Cetirizine 10 mg tablet"></option>
                  <option value="Ibuprofen 400 mg tablet"></option>
                  <option value="Oxybutynin 5mg modified-release tablets"></option>
                  <option value="Paracetamol 500 mg tablet"></option>
                  <option value="Salbutamol 2 mg tablet "></option>
                </datalist>
    
                <div class="nhsuk-form-group">
                  <label class="nhsuk-label" for="Pack size">
                    Pack size
                  </label>
                  <div>
                    <input class="nhsuk-input nhsuk-input--width-5" id="Pack size" name="Pack size" type="text" value="10">
                     </div>
                </div>

                <div class="nhsuk-checkboxes nhsuk-checkboxes--conditional">
  <div class="nhsuk-checkboxes__item" style="display: flex; align-items: center; gap: 0.5rem; margin-top: 30px;" >
    <input class="nhsuk-checkboxes__input"
           id="brand-name-1"
           name="brand-name-checkbox"
           type="checkbox"
           value="brand-name"
           aria-controls="brand-name-generic-name-1"
           aria-expanded="false"
           onclick="toggleConditional(this)" value="" checked>
    <label class="nhsuk-label nhsuk-checkboxes__label" for="brand-name-1">
      Select if the drug has another brand name or generic name (optional)
    </label>
  </div>
  <div class="nhsuk-checkboxes__conditional nhsuk-checkboxes__conditional" id="brand-name-generic-name-1">
    <div class="nhsuk-form-group" style="margin-top: 25px;">
      <label class="nhsuk-label" for="brand-name">
        Brand name / Generic name
      </label>
      <input class="nhsuk-input nhsuk-u-width-two-thirds" id="brand-name" name="brand-name" type="text" value="Tillomed Laboratories Ltd">
    </div>
  </div>
</div>

<script>
  function toggleConditional(checkbox) {
    const conditional = document.getElementById('brand-name-generic-name-1');
    if (checkbox.checked) {
      conditional.classList.remove('nhsuk-checkboxes__conditional--hidden');
      checkbox.setAttribute('aria-expanded', 'true');
    } else {
      conditional.classList.add('nhsuk-checkboxes__conditional--hidden');
      checkbox.setAttribute('aria-expanded', 'false');
    }
  }
</script>

   

 <div class="nhsuk-form-group" style="margin-top: 25px;">
      <label class="nhsuk-label" for="Number of packs">
        Number of packs
      </label>
      <div>
        <input class="nhsuk-input nhsuk-input--width-5" id="Number of packs" name="Number of packs" type="text" value="11">
       </div>
    </div>
    
<!--Price per pack-->
  <div style="display: inline-block; margin-right: 10px;">
  <div class="nhsuk-form-group">
    <label class="nhsuk-label" for="price-per-pack">
      Price per pack
    </label>
    <div class="nhsuk-input__wrapper">
      <div class="nhsuk-input__prefix" aria-hidden="true">£</div>
      <input 
        class="nhsuk-input nhsuk-input--width-5" 
        id="price-per-pack" 
        name="price-per-pack" 
        type="text" 
        value="0.25"
      >
    </div>
  </div>
</div>

<!--Total price -->
<div style="display: inline-block; margin-right: 10px;">
  <div class="nhsuk-form-group">
    <label class="nhsuk-label" id="invoice-price-label" for="invoice-price">
      Invoice price
    </label>
    <div class="nhsuk-input__wrapper">
      <div class="nhsuk-input__prefix" aria-hidden="true">£</div>
      <input class="nhsuk-input nhsuk-input--width-5" id="invoice-price" name="invoice-price" type="text" value="2.75">
    </div>
  </div>
</div>


   

<!--Difference-->
<div style="display: inline-block; margin-right: 10px;">
  <div class="nhsuk-form-group">
    <label 
      class="nhsuk-label" 
      id=" difference-label" 
      for="difference" 
      style="user-select: none;">
    
      <!-- Hidden icon, will be shown conditionally -->
        <div id="warning-message" class="nhsuk-u-visually-hidden" aria-live="warning-difference"></div>

      <span id="warning-icon" style=" 
        display: none;
        margin-right: 5px;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        background-color: black;
        color: white;
        text-align: center;
        line-height: 30px;
        font-weight: bold;
        font-size: 20px;
        user-select: none;
        vertical-align: middle;
      " aria-hidden="true">!</span>
      <span id="difference-text" style="font-weight: normal;">Difference</span>
    </label>
    <div class="nhsuk-input__wrapper">
      <div class="nhsuk-input__prefix" aria-hidden="true">£</div>
      <input class="nhsuk-input nhsuk-input--width-5" id="difference" name="difference" type="text" value="0" disabled>
    </div>
  </div>
</div>


<!--Check total-->
<div style="display: inline-block;">
  <div class="nhsuk-form-group">
    <label class="nhsuk-label" for="check-total">
      Check total
    </label>
    <div class="nhsuk-input__wrapper">
      <div class="nhsuk-input__prefix" aria-hidden="true">£</div>
      <input class="nhsuk-input nhsuk-input--width-5" id="check-total" name="check-total" type="text" value="2.75" disabled>
    </div>
  </div>
</div>


<script>
  const priceInput = document.getElementById('invoice-price');
  const warningIcon = document.getElementById('warning-icon');
  const differenceInput = document.getElementById('difference');
  const differenceText = document.getElementById('difference-text');
  const checkInput = document.getElementById('check-total');
  const warningMessage = document.getElementById('warning-message');

  priceInput.addEventListener('input', () => {
    if (priceInput.value.trim() === "1") {
      // Show visual warning
      warningIcon.style.display = "inline-block";
      differenceInput.value = "1.75";
      differenceText.style.fontWeight = "bold";
      checkInput.value = "2.75";

     
    } else {
      // Reset visual and screen reader warnings
      warningIcon.style.display = "none";
      differenceInput.value = "0";
      differenceText.style.fontWeight = "normal";
      checkInput.value = "2.75";
      warningMessage.textContent = "";
      warningMessage.classList.add('nhsuk-u-visually-hidden');
    }
  });
</script>

<!--Javascript ends-->

<div class="nhsuk-form-group">
  <label class="nhsuk-label" for="autocomplete-Manufacturer">
    Generic Manufacturer
   </label>
   <div class="nhsuk-hint" id="example-with-hint-text-hint">
  If name does not appear <a href="add-manufacturer" class="nhsuk-link">add manufacturer</a> 
  </div>
   <input class="nhsuk-input nhsuk-u-width-fulld="autocomplete-Manufacturer" name="Manufacturer" type="text" autocomplete="off" list="Manufacturer" placeholder="Enter a generic manufacturer" value="Johnson & Johnson Company">
   <ul class="nhsuk-list" id="Manufacturer-list" hidden></ul>
   </div>
   <datalist id="Manufacturer">
     <option value="AbbVie"></option>
     <option value="Bristol-Myers Squibb"></option>
     <option value="GSK"></option>
     <option value="Johnson & Johnson Company"></option>
   </datalist>



  

           
                            <div class="nhsuk-form-group" style="padding-left: 00px; padding-top: 10px;">
                            <a href="drug-input-continue-2" class="nhsuk-button">Details correct - view next drug</a> 
                            <a href="drug-input-updated" class="nhsuk-button">Update information</a> 
                            <a href="drug-input" class="nhsuk-button nhsuk-button--secondary">Add a drug</a>
                            <a href="delete" class="nhsuk-button nhsuk-button--warning">Delete drug</a>
                          </div>


                            <p><a href="" type="button" onclick="clearFields()">Clear all fields</a></p>

</form>


   <script>
    function clearFields() {
        document.getElementById('myForm').reset();
    }
</script>

 <p>You are on page 7 of 8</p>


     <!--search-->
      
      <details class="nhsuk-details">
        <summary class="nhsuk-details__summary">
          <span class="nhsuk-details__summary-text">
            Search for a drug entry
          </span>
        </summary>
        <div class="nhsuk-details__text">

        <div class="nhsuk-form-group">
          <label class="nhsuk-label" for="drug-search">
            Enter drug name to search for previously entered drugs.
          </label>
          <div class="nhsuk-hint">
            For example Bisoprolol
          </div>
          <input 
            class="nhsuk-input nhsuk-input--width-10" 
            id="drug-search" 
            name="drug" 
            type="text">
        </div>

        <div class="nhsuk-form-group">
          <label class="nhsuk-label" for="invoice-search">
            Enter invoice reference number to search for previously entered drugs.
          </label>
          <div class="nhsuk-hint">
            For example Supplierinvoice.143
          </div>
          <input 
            class="nhsuk-input nhsuk-input--width-10" 
            id="invoice-search" 
            name="invoice" 
            type="text">
        </div>

        <a href="drug-input-search-result" class="nhsuk-button" style="margin-top: 20px;">
          Search
        </a>

        
         <a href="drug-input-search-result" class="nhsuk-button nhsuk-button--secondary" style="margin-top: 20px;">
           Back to last search result
        </a>

      
        </div>
      </details>

    <!--search-->


  <!---pagination--->

<nav class="nhsuk-pagination" role="navigation" aria-label="Pagination">
  <ul class="nhsuk-list nhsuk-pagination__list">
    <li class="nhsuk-pagination-item--previous">
      <a class="nhsuk-pagination__link nhsuk-pagination__link--prev" href="#">
        <span class="nhsuk-pagination__title">Previous</span>
        <span class="nhsuk-u-visually-hidden">:</span>
        <span class="nhsuk-pagination__page">Page 6</span>
        <svg class="nhsuk-icon nhsuk-icon--arrow-left" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" focusable="false" aria-hidden="true">
          <path d="M10.7 6.3c.4.4.4 1 0 1.4L7.4 11H19a1 1 0 0 1 0 2H7.4l3.3 3.3c.4.4.4 1 0 1.4a1 1 0 0 1-1.4 0l-5-5A1 1 0 0 1 4 12c0-.3.1-.5.3-.7l5-5a1 1 0 0 1 1.4 0Z" />
        </svg>

      </a>
    </li>
    <li class="nhsuk-pagination-item--next">
      <a class="nhsuk-pagination__link nhsuk-pagination__link--next" href="drug-input-continue-2">
        <span class="nhsuk-pagination__title">Next</span>
        <span class="nhsuk-u-visually-hidden">:</span>
        <span class="nhsuk-pagination__page">Page 8</span>
        <svg class="nhsuk-icon nhsuk-icon--arrow-right" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" focusable="false" aria-hidden="true">
          <path d="m14.7 6.3 5 5c.2.2.3.4.3.7 0 .3-.1.5-.3.7l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3H5a1 1 0 0 1 0-2h11.6l-3.3-3.3a1 1 0 1 1 1.4-1.4Z" />
        </svg>

      </a>
    </li>
  </ul>
</nav>

  <!---pagination ends--->
 

                         
                          </div>
     
                        </div>

</div>


{% endblock %}
